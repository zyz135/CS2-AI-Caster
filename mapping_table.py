import pandas as pd

anchors = pd.DataFrame([
    {"name": "匪家", "x": 1177.03, "y": -805.52, "z": -186.91},
    {"name": "匪家", "x": 1252.87, "y": -75.45, "z": -103.97},

    {"name": "A1（近匪家）", "x": 828.81, "y": -1081.92, "z": -199.03},
    {"name": "A1", "x": 446.97, "y": -1589.34, "z": -177.58},

    {"name": "三明治", "x": -317.62, "y": -1528.13, "z": -103.97},

    {"name": "二楼上", "x": 151.97, "y": -1914.05, "z": 24.03},
    {"name": "二楼下", "x": 151.96, "y": -1914.06, "z": -103.97},

    {"name": "匪二楼", "x": 258.95, "y": -2326.49, "z": 24.03},
    {"name": "匪二楼里", "x": 956.60, "y": -1831.24, "z": -7.97},

    {"name": "死点", "x": -284.19, "y": -2411.58, "z": -99.97},
    {"name": "短箱", "x": -386.77, "y": -2106.80, "z": -115.97},
    {"name": "长箱", "x": -699.14, "y": -2134.63, "z": -115.97},
    {"name": "长椅", "x": -815.80, "y": -1786.43, "z": -87.93},

    {"name": "匪跳", "x": -142.97, "y": -1418.03, "z": -8.18},
    {"name": "跳台", "x": -477.97, "y": -1556.13, "z": 24.03},
    {"name": "跳台下", "x": -574.64, "y": -1552.39, "z": -103.97},

    {"name": "拱门", "x": -664.70, "y": -1062.40, "z": -142.90},
    {"name": "Jungle", "x": -1018.81, "y": -1407.23, "z": -102.88},

    {"name": "VIP", "x": -1193.63, "y": -932.99, "z": -103.97},
    {"name": "VIP", "x": -1209.91, "y": -606.79, "z": -103.97},

    {"name": "忍者位", "x": -381.52, "y": -2394.97, "z": -101.86},
    {"name": "A包", "x": -483.10, "y": -2217.06, "z": -115.58},

    {"name": "警亭", "x": -874.69, "y": -2541.74, "z": 28.03},

    {"name": "警家", "x": -1598.12, "y": -1093.28, "z": -168.30},
    {"name": "警家", "x": -1638.86, "y": -1897.44, "z": -204.00},

    {"name": "超市", "x": -1972.04, "y": -589.91, "z": -103.97},

    {"name": "外围", "x": -2073.78, "y": -84.52, "z": -101.97},
    {"name": "外围", "x": -2019.19, "y": 546.17, "z": -101.87},

    {"name": "沙发", "x": -2503.79, "y": 301.76, "z": -103.97},
    {"name": "包点箱子上", "x": -1937.28, "y": 383.02, "z": -45.67},
    {"name": "沙发贴墙", "x": -2581.64, "y": 535.92, "z": -103.68},

    {"name": "白车", "x": -2325.00, "y": 791.48, "z": -62.05},
    {"name": "B2", "x": -1642.45, "y": 762.03, "z": 16.03},
    {"name": "厨房", "x": -1095.93, "y": 434.22, "z": -15.97},

    {"name": "B准备区", "x": -207.14, "y": 810.73, "z": -72.49},
    {"name": "下水道", "x": -995.72, "y": -25.57, "z": -303.97},
    {"name": "VIP下", "x": -1039.20, "y": -677.45, "z": -199.97},

    {"name": "长凳", "x": -842.61, "y": -788.93, "z": -159.63},
    {"name": "拱门外", "x": -518.33, "y": -788.89, "z": -192.55},
    {"name": "L位", "x": -363.97, "y": -935.25, "z": -102.39},

    {"name": "中路", "x": 18.88, "y": -684.43, "z": -126.82},
    {"name": "沙袋", "x": 370.59, "y": -667.39, "z": -100.82},
    {"name": "匪口", "x": 348.99, "y": 104.12, "z": -166.20},

    {"name": "A1上", "x": 815.93, "y": -1704.38, "z": -44.97},
    {"name": "小黑屋", "x": -1199.90, "y": -163.18, "z": 8.03},

    {"name": "B小", "x": -776.07, "y": -386.46, "z": -103.99},
    {"name": "B小", "x": -435.30, "y": -411.66, "z": -103.26},
    {"name": "B小", "x": -1046.10, "y": 189.09, "z": -108.87},
])

def mapping_table(x, y, z):#输入一组坐标值，返回对应的游戏点位
    clostest=[float('inf'), None, None]
    for row in anchors.itertuples(index=False):
        anchor_x = row.x
        anchor_y = row.y
        dist_square = (anchor_x-x)**2+(anchor_y-y)**2
        if clostest[0] > dist_square:
            clostest = [dist_square, row.name, row.z]
        elif clostest[0] == dist_square:
            if abs(row.z-z) <= abs(clostest[2]-z):#距离相同时按z值接近程度判断
                clostest = [dist_square, row.name, row.z]
    return clostest[1]